"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/calculate-medals";
exports.ids = ["pages/api/calculate-medals"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/calculate-medals.ts */ \"(api)/./pages/api/calculate-medals.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/calculate-medals\",\n        pathname: \"/api/calculate-medals\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNhbGN1bGF0ZS1tZWRhbHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmNhbGN1bGF0ZS1tZWRhbHMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNEQ7QUFDNUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d3N0X21jX2NhbGMvP2NiNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9jYWxjdWxhdGUtbWVkYWxzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2FsY3VsYXRlLW1lZGFsc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NhbGN1bGF0ZS1tZWRhbHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/calculate-medals.ts":
/*!***************************************!*\
  !*** ./pages/api/calculate-medals.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nconst qualityPoints = {\n    high: 30,\n    medium: 20,\n    low: 10\n};\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { stock, recipes } = req.body;\n        const result = calculateOptimalRecipes(stock, recipes);\n        res.status(200).json(result);\n    } else {\n        res.status(405).end();\n    }\n}\nfunction calculateOptimalRecipes(stock, recipes) {\n    let optimalRecipes = {};\n    let maxMedals = 0;\n    let currentStock = JSON.parse(JSON.stringify(stock));\n    while(true){\n        let bestRecipe = null;\n        let bestMedals = 0;\n        for (const recipe of recipes){\n            if (canMake(currentStock, recipe.ingredients)) {\n                const medals = calculateMedalsForRecipe(currentStock, recipe.ingredients);\n                if (medals > bestMedals) {\n                    bestMedals = medals;\n                    bestRecipe = recipe;\n                }\n            }\n        }\n        if (bestRecipe === null) break;\n        optimalRecipes[bestRecipe.name] = (optimalRecipes[bestRecipe.name] || 0) + 1;\n        maxMedals += bestMedals;\n        useIngredients(currentStock, bestRecipe.ingredients);\n    }\n    // 作成回数が0のレシピを除外\n    Object.keys(optimalRecipes).forEach((key)=>{\n        if (optimalRecipes[key] === 0) {\n            delete optimalRecipes[key];\n        }\n    });\n    return {\n        recipes: optimalRecipes,\n        medals: maxMedals\n    };\n}\nfunction canMake(stock, ingredients) {\n    for(const materialKey in ingredients){\n        const requiredAmount = ingredients[materialKey] || 0;\n        if (requiredAmount > 0) {\n            const materialStock = stock[materialKey];\n            if (!materialStock) return false;\n            const availableQuantity = Object.values(materialStock).reduce((sum, qty)=>sum + qty, 0);\n            if (availableQuantity < requiredAmount) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction calculateMedalsForRecipe(stock, ingredients) {\n    let totalMedals = 0;\n    for(const materialKey in ingredients){\n        const requiredAmount = ingredients[materialKey] || 0;\n        if (requiredAmount > 0) {\n            let remainingAmount = requiredAmount;\n            const materialStock = stock[materialKey];\n            if (materialStock) {\n                for(const quality in qualityPoints){\n                    const qualityKey = quality;\n                    const availableQuantity = materialStock[qualityKey];\n                    const usedQuantity = Math.min(availableQuantity, remainingAmount);\n                    totalMedals += qualityPoints[qualityKey] * usedQuantity;\n                    remainingAmount -= usedQuantity;\n                    if (remainingAmount <= 0) break;\n                }\n            }\n        }\n    }\n    return totalMedals;\n}\nfunction useIngredients(stock, ingredients) {\n    for(const materialKey in ingredients){\n        const requiredAmount = ingredients[materialKey] || 0;\n        if (requiredAmount > 0) {\n            let remainingAmount = requiredAmount;\n            const materialStock = stock[materialKey];\n            if (materialStock) {\n                for(const quality in qualityPoints){\n                    const qualityKey = quality;\n                    const availableQuantity = materialStock[qualityKey];\n                    const usedQuantity = Math.min(availableQuantity, remainingAmount);\n                    materialStock[qualityKey] -= usedQuantity;\n                    remainingAmount -= usedQuantity;\n                    if (remainingAmount <= 0) break;\n                }\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxhQUFhLENBQUM4QyxXQUFXLEdBQUdDO29CQUMzQ0gsbUJBQW1CRztvQkFDbkIsSUFBSUgsbUJBQW1CLEdBQUc7Z0JBQzVCO1lBQ0Y7UUFDRjtJQUNGO0lBQ0EsT0FBT0Q7QUFDVDtBQUVBLFNBQVNiLGVBQWV0QixLQUFZLEVBQUVrQixXQUFrQztJQUN0RSxJQUFLLE1BQU1TLGVBQWVULFlBQWE7UUFDckMsTUFBTVUsaUJBQWlCVixXQUFXLENBQUNTLFlBQVksSUFBSTtRQUNuRCxJQUFJQyxpQkFBaUIsR0FBRztZQUN0QixJQUFJUSxrQkFBa0JSO1lBQ3RCLE1BQU1DLGdCQUFnQjdCLEtBQUssQ0FBQzJCLFlBQXdCO1lBQ3BELElBQUlFLGVBQWU7Z0JBQ2pCLElBQUssTUFBTVEsV0FBVzdDLGNBQWU7b0JBQ25DLE1BQU04QyxhQUFhRDtvQkFDbkIsTUFBTVAsb0JBQW9CRCxhQUFhLENBQUNTLFdBQVc7b0JBQ25ELE1BQU1DLGVBQWVDLEtBQUtDLEdBQUcsQ0FBQ1gsbUJBQW1CTTtvQkFDakRQLGFBQWEsQ0FBQ1MsV0FBVyxJQUFJQztvQkFDN0JILG1CQUFtQkc7b0JBQ25CLElBQUlILG1CQUFtQixHQUFHO2dCQUM1QjtZQUNGO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHdzdF9tY19jYWxjLy4vcGFnZXMvYXBpL2NhbGN1bGF0ZS1tZWRhbHMudHM/NjZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBSZWNpcGUgfSBmcm9tICdAL2RhdGEvcmVjaXBlcyc7XG5cbnR5cGUgTWF0ZXJpYWwgPSAnc3BpY3lQb3dkZXInIHwgJ2Zsb3VyJyB8ICdjaGVlc2UnIHwgJ3BpenphU2F1Y2UnIHwgJ21lYXQnIHwgJ3JpY2UnIHwgJ29uaW9uJztcbnR5cGUgUXVhbGl0eSA9ICdoaWdoJyB8ICdtZWRpdW0nIHwgJ2xvdyc7XG5cbnR5cGUgU3RvY2sgPSB7XG4gIFtLIGluIE1hdGVyaWFsXToge1xuICAgIFtRIGluIFF1YWxpdHldOiBudW1iZXI7XG4gIH07XG59O1xuXG5jb25zdCBxdWFsaXR5UG9pbnRzOiB7IFtLIGluIFF1YWxpdHldOiBudW1iZXIgfSA9IHtcbiAgaGlnaDogMzAsXG4gIG1lZGl1bTogMjAsXG4gIGxvdzogMTAsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICBjb25zdCB7IHN0b2NrLCByZWNpcGVzIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVPcHRpbWFsUmVjaXBlcyhzdG9jaywgcmVjaXBlcyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlT3B0aW1hbFJlY2lwZXMoc3RvY2s6IFN0b2NrLCByZWNpcGVzOiBSZWNpcGVbXSk6IHsgcmVjaXBlczogeyBbbmFtZTogc3RyaW5nXTogbnVtYmVyIH0sIG1lZGFsczogbnVtYmVyIH0ge1xuICBsZXQgb3B0aW1hbFJlY2lwZXM6IHsgW25hbWU6IHN0cmluZ106IG51bWJlciB9ID0ge307XG4gIGxldCBtYXhNZWRhbHMgPSAwO1xuICBsZXQgY3VycmVudFN0b2NrID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdG9jaykpIGFzIFN0b2NrO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgbGV0IGJlc3RSZWNpcGU6IFJlY2lwZSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBiZXN0TWVkYWxzID0gMDtcblxuICAgIGZvciAoY29uc3QgcmVjaXBlIG9mIHJlY2lwZXMpIHtcbiAgICAgIGlmIChjYW5NYWtlKGN1cnJlbnRTdG9jaywgcmVjaXBlLmluZ3JlZGllbnRzKSkge1xuICAgICAgICBjb25zdCBtZWRhbHMgPSBjYWxjdWxhdGVNZWRhbHNGb3JSZWNpcGUoY3VycmVudFN0b2NrLCByZWNpcGUuaW5ncmVkaWVudHMpO1xuICAgICAgICBpZiAobWVkYWxzID4gYmVzdE1lZGFscykge1xuICAgICAgICAgIGJlc3RNZWRhbHMgPSBtZWRhbHM7XG4gICAgICAgICAgYmVzdFJlY2lwZSA9IHJlY2lwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChiZXN0UmVjaXBlID09PSBudWxsKSBicmVhaztcblxuICAgIG9wdGltYWxSZWNpcGVzW2Jlc3RSZWNpcGUubmFtZV0gPSAob3B0aW1hbFJlY2lwZXNbYmVzdFJlY2lwZS5uYW1lXSB8fCAwKSArIDE7XG4gICAgbWF4TWVkYWxzICs9IGJlc3RNZWRhbHM7XG4gICAgdXNlSW5ncmVkaWVudHMoY3VycmVudFN0b2NrLCBiZXN0UmVjaXBlLmluZ3JlZGllbnRzKTtcbiAgfVxuXG4gIC8vIOS9nOaIkOWbnuaVsOOBjDDjga7jg6zjgrfjg5TjgpLpmaTlpJZcbiAgT2JqZWN0LmtleXMob3B0aW1hbFJlY2lwZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAob3B0aW1hbFJlY2lwZXNba2V5XSA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9wdGltYWxSZWNpcGVzW2tleV07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4geyByZWNpcGVzOiBvcHRpbWFsUmVjaXBlcywgbWVkYWxzOiBtYXhNZWRhbHMgfTtcbn1cblxuZnVuY3Rpb24gY2FuTWFrZShzdG9jazogU3RvY2ssIGluZ3JlZGllbnRzOiBSZWNpcGVbJ2luZ3JlZGllbnRzJ10pOiBib29sZWFuIHtcbiAgZm9yIChjb25zdCBtYXRlcmlhbEtleSBpbiBpbmdyZWRpZW50cykge1xuICAgIGNvbnN0IHJlcXVpcmVkQW1vdW50ID0gaW5ncmVkaWVudHNbbWF0ZXJpYWxLZXldIHx8IDA7XG4gICAgaWYgKHJlcXVpcmVkQW1vdW50ID4gMCkge1xuICAgICAgY29uc3QgbWF0ZXJpYWxTdG9jayA9IHN0b2NrW21hdGVyaWFsS2V5IGFzIE1hdGVyaWFsXTtcbiAgICAgIGlmICghbWF0ZXJpYWxTdG9jaykgcmV0dXJuIGZhbHNlO1xuICAgICAgY29uc3QgYXZhaWxhYmxlUXVhbnRpdHkgPSBPYmplY3QudmFsdWVzKG1hdGVyaWFsU3RvY2spLnJlZHVjZSgoc3VtLCBxdHkpID0+IHN1bSArIHF0eSwgMCk7XG4gICAgICBpZiAoYXZhaWxhYmxlUXVhbnRpdHkgPCByZXF1aXJlZEFtb3VudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVNZWRhbHNGb3JSZWNpcGUoXG4gIHN0b2NrOiBTdG9jayxcbiAgaW5ncmVkaWVudHM6IFJlY2lwZVsnaW5ncmVkaWVudHMnXVxuKTogbnVtYmVyIHtcbiAgbGV0IHRvdGFsTWVkYWxzID0gMDtcbiAgZm9yIChjb25zdCBtYXRlcmlhbEtleSBpbiBpbmdyZWRpZW50cykge1xuICAgIGNvbnN0IHJlcXVpcmVkQW1vdW50ID0gaW5ncmVkaWVudHNbbWF0ZXJpYWxLZXldIHx8IDA7XG4gICAgaWYgKHJlcXVpcmVkQW1vdW50ID4gMCkge1xuICAgICAgbGV0IHJlbWFpbmluZ0Ftb3VudCA9IHJlcXVpcmVkQW1vdW50O1xuICAgICAgY29uc3QgbWF0ZXJpYWxTdG9jayA9IHN0b2NrW21hdGVyaWFsS2V5IGFzIE1hdGVyaWFsXTtcbiAgICAgIGlmIChtYXRlcmlhbFN0b2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgcXVhbGl0eSBpbiBxdWFsaXR5UG9pbnRzKSB7XG4gICAgICAgICAgY29uc3QgcXVhbGl0eUtleSA9IHF1YWxpdHkgYXMgUXVhbGl0eTtcbiAgICAgICAgICBjb25zdCBhdmFpbGFibGVRdWFudGl0eSA9IG1hdGVyaWFsU3RvY2tbcXVhbGl0eUtleV07XG4gICAgICAgICAgY29uc3QgdXNlZFF1YW50aXR5ID0gTWF0aC5taW4oYXZhaWxhYmxlUXVhbnRpdHksIHJlbWFpbmluZ0Ftb3VudCk7XG4gICAgICAgICAgdG90YWxNZWRhbHMgKz0gcXVhbGl0eVBvaW50c1txdWFsaXR5S2V5XSAqIHVzZWRRdWFudGl0eTtcbiAgICAgICAgICByZW1haW5pbmdBbW91bnQgLT0gdXNlZFF1YW50aXR5O1xuICAgICAgICAgIGlmIChyZW1haW5pbmdBbW91bnQgPD0gMCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvdGFsTWVkYWxzO1xufVxuXG5mdW5jdGlvbiB1c2VJbmdyZWRpZW50cyhzdG9jazogU3RvY2ssIGluZ3JlZGllbnRzOiBSZWNpcGVbJ2luZ3JlZGllbnRzJ10pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBtYXRlcmlhbEtleSBpbiBpbmdyZWRpZW50cykge1xuICAgIGNvbnN0IHJlcXVpcmVkQW1vdW50ID0gaW5ncmVkaWVudHNbbWF0ZXJpYWxLZXldIHx8IDA7XG4gICAgaWYgKHJlcXVpcmVkQW1vdW50ID4gMCkge1xuICAgICAgbGV0IHJlbWFpbmluZ0Ftb3VudCA9IHJlcXVpcmVkQW1vdW50O1xuICAgICAgY29uc3QgbWF0ZXJpYWxTdG9jayA9IHN0b2NrW21hdGVyaWFsS2V5IGFzIE1hdGVyaWFsXTtcbiAgICAgIGlmIChtYXRlcmlhbFN0b2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgcXVhbGl0eSBpbiBxdWFsaXR5UG9pbnRzKSB7XG4gICAgICAgICAgY29uc3QgcXVhbGl0eUtleSA9IHF1YWxpdHkgYXMgUXVhbGl0eTtcbiAgICAgICAgICBjb25zdCBhdmFpbGFibGVRdWFudGl0eSA9IG1hdGVyaWFsU3RvY2tbcXVhbGl0eUtleV07XG4gICAgICAgICAgY29uc3QgdXNlZFF1YW50aXR5ID0gTWF0aC5taW4oYXZhaWxhYmxlUXVhbnRpdHksIHJlbWFpbmluZ0Ftb3VudCk7XG4gICAgICAgICAgbWF0ZXJpYWxTdG9ja1txdWFsaXR5S2V5XSAtPSB1c2VkUXVhbnRpdHk7XG4gICAgICAgICAgcmVtYWluaW5nQW1vdW50IC09IHVzZWRRdWFudGl0eTtcbiAgICAgICAgICBpZiAocmVtYWluaW5nQW1vdW50IDw9IDApIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsicXVhbGl0eVBvaW50cyIsImhpZ2giLCJtZWRpdW0iLCJsb3ciLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RvY2siLCJyZWNpcGVzIiwiYm9keSIsInJlc3VsdCIsImNhbGN1bGF0ZU9wdGltYWxSZWNpcGVzIiwic3RhdHVzIiwianNvbiIsImVuZCIsIm9wdGltYWxSZWNpcGVzIiwibWF4TWVkYWxzIiwiY3VycmVudFN0b2NrIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiYmVzdFJlY2lwZSIsImJlc3RNZWRhbHMiLCJyZWNpcGUiLCJjYW5NYWtlIiwiaW5ncmVkaWVudHMiLCJtZWRhbHMiLCJjYWxjdWxhdGVNZWRhbHNGb3JSZWNpcGUiLCJuYW1lIiwidXNlSW5ncmVkaWVudHMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsIm1hdGVyaWFsS2V5IiwicmVxdWlyZWRBbW91bnQiLCJtYXRlcmlhbFN0b2NrIiwiYXZhaWxhYmxlUXVhbnRpdHkiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJzdW0iLCJxdHkiLCJ0b3RhbE1lZGFscyIsInJlbWFpbmluZ0Ftb3VudCIsInF1YWxpdHkiLCJxdWFsaXR5S2V5IiwidXNlZFF1YW50aXR5IiwiTWF0aCIsIm1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/calculate-medals.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();