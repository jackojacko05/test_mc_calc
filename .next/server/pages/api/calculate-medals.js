"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/calculate-medals";
exports.ids = ["pages/api/calculate-medals"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/calculate-medals.ts */ \"(api)/./pages/api/calculate-medals.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/calculate-medals\",\n        pathname: \"/api/calculate-medals\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_calculate_medals_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNhbGN1bGF0ZS1tZWRhbHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmNhbGN1bGF0ZS1tZWRhbHMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNEQ7QUFDNUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d3N0X21jX2NhbGMvP2NiNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9jYWxjdWxhdGUtbWVkYWxzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2FsY3VsYXRlLW1lZGFsc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NhbGN1bGF0ZS1tZWRhbHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/calculate-medals.ts":
/*!***************************************!*\
  !*** ./pages/api/calculate-medals.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nconst recipes = [\n    {\n        name: \"ビリヤニ\",\n        ingredients: {\n            spicyPowder: 1,\n            rice: 1,\n            onion: 1,\n            meat: 1\n        }\n    },\n    {\n        name: \"ハラペーニョと鷹の爪ピザ\",\n        ingredients: {\n            spicyPowder: 1,\n            flour: 1,\n            cheese: 1,\n            pizzaSauce: 1\n        }\n    }\n];\nconst qualityPoints = {\n    high: 30,\n    medium: 20,\n    low: 10\n};\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const stock = req.body;\n        const result = calculateOptimalRecipes(stock);\n        res.status(200).json(result);\n    } else {\n        res.status(405).end();\n    }\n}\nfunction calculateOptimalRecipes(stock) {\n    let optimalRecipes = {};\n    let maxMedals = 0;\n    let currentStock = JSON.parse(JSON.stringify(stock));\n    while(true){\n        let bestRecipe = null;\n        let bestMedals = 0;\n        for (const recipe of recipes){\n            if (canMake(currentStock, recipe.ingredients)) {\n                const medals = calculateMedalsForRecipe(currentStock, recipe.ingredients);\n                if (medals > bestMedals) {\n                    bestMedals = medals;\n                    bestRecipe = recipe.name;\n                }\n            }\n        }\n        if (bestRecipe === null) break;\n        optimalRecipes[bestRecipe] = (optimalRecipes[bestRecipe] || 0) + 1;\n        maxMedals += bestMedals;\n        useIngredients(currentStock, recipes.find((r)=>r.name === bestRecipe).ingredients);\n    }\n    // 作成回数が0のレシピを除外\n    Object.keys(optimalRecipes).forEach((key)=>{\n        if (optimalRecipes[key] === 0) {\n            delete optimalRecipes[key];\n        }\n    });\n    return {\n        recipes: optimalRecipes,\n        medals: maxMedals\n    };\n}\nfunction canMake(stock, ingredients) {\n    for(const material in ingredients){\n        const materialKey = material;\n        const requiredAmount = ingredients[materialKey] || 0;\n        if (requiredAmount > 0) {\n            const availableQuantity = Object.values(stock[materialKey]).reduce((sum, qty)=>sum + qty, 0);\n            if (availableQuantity < requiredAmount) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction calculateMedalsForRecipe(stock, ingredients) {\n    let totalMedals = 0;\n    for(const material in ingredients){\n        const materialKey = material;\n        const requiredAmount = ingredients[materialKey] || 0;\n        if (requiredAmount > 0) {\n            let remainingAmount = requiredAmount;\n            for(const quality in qualityPoints){\n                const qualityKey = quality;\n                const availableQuantity = stock[materialKey][qualityKey];\n                const usedQuantity = Math.min(availableQuantity, remainingAmount);\n                totalMedals += qualityPoints[qualityKey] * usedQuantity;\n                remainingAmount -= usedQuantity;\n                if (remainingAmount <= 0) break;\n            }\n        }\n    }\n    return totalMedals;\n}\nfunction useIngredients(stock, ingredients) {\n    for(const material in ingredients){\n        const materialKey = material;\n        const requiredAmount = ingredients[materialKey] || 0;\n        if (requiredAmount > 0) {\n            let remainingAmount = requiredAmount;\n            for(const quality in qualityPoints){\n                const qualityKey = quality;\n                const availableQuantity = stock[materialKey][qualityKey];\n                const usedQuantity = Math.min(availableQuantity, remainingAmount);\n                stock[materialKey][qualityKey] -= usedQuantity;\n                remainingAmount -= usedQuantity;\n                if (remainingAmount <= 0) break;\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTVEsV0FBVzVDLGNBQWU7Z0JBQ25DLE1BQU02QyxhQUFhRDtnQkFDbkIsTUFBTVAsb0JBQW9CN0IsS0FBSyxDQUFDMkIsWUFBWSxDQUFDVSxXQUFXO2dCQUN4RCxNQUFNQyxlQUFlQyxLQUFLQyxHQUFHLENBQUNYLG1CQUFtQk07Z0JBQ2pERCxlQUFlMUMsYUFBYSxDQUFDNkMsV0FBVyxHQUFHQztnQkFDM0NILG1CQUFtQkc7Z0JBQ25CLElBQUlILG1CQUFtQixHQUFHO1lBQzVCO1FBQ0Y7SUFDRjtJQUNBLE9BQU9EO0FBQ1Q7QUFFQSxTQUFTZixlQUFlbkIsS0FBWSxFQUFFaEIsV0FBa0M7SUFDdEUsSUFBSyxNQUFNMEMsWUFBWTFDLFlBQWE7UUFDbEMsTUFBTTJDLGNBQWNEO1FBQ3BCLE1BQU1FLGlCQUFpQjVDLFdBQVcsQ0FBQzJDLFlBQVksSUFBSTtRQUNuRCxJQUFJQyxpQkFBaUIsR0FBRztZQUN0QixJQUFJTyxrQkFBa0JQO1lBQ3RCLElBQUssTUFBTVEsV0FBVzVDLGNBQWU7Z0JBQ25DLE1BQU02QyxhQUFhRDtnQkFDbkIsTUFBTVAsb0JBQW9CN0IsS0FBSyxDQUFDMkIsWUFBWSxDQUFDVSxXQUFXO2dCQUN4RCxNQUFNQyxlQUFlQyxLQUFLQyxHQUFHLENBQUNYLG1CQUFtQk07Z0JBQ2pEbkMsS0FBSyxDQUFDMkIsWUFBWSxDQUFDVSxXQUFXLElBQUlDO2dCQUNsQ0gsbUJBQW1CRztnQkFDbkIsSUFBSUgsbUJBQW1CLEdBQUc7WUFDNUI7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d3N0X21jX2NhbGMvLi9wYWdlcy9hcGkvY2FsY3VsYXRlLW1lZGFscy50cz82NmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcblxudHlwZSBNYXRlcmlhbCA9ICdzcGljeVBvd2RlcicgfCAnZmxvdXInIHwgJ2NoZWVzZScgfCAncGl6emFTYXVjZScgfCAnbWVhdCcgfCAncmljZScgfCAnb25pb24nO1xudHlwZSBRdWFsaXR5ID0gJ2hpZ2gnIHwgJ21lZGl1bScgfCAnbG93JztcblxudHlwZSBTdG9jayA9IHtcbiAgW0sgaW4gTWF0ZXJpYWxdOiB7XG4gICAgW1EgaW4gUXVhbGl0eV06IG51bWJlcjtcbiAgfTtcbn07XG5cbmludGVyZmFjZSBSZWNpcGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIGluZ3JlZGllbnRzOiB7XG4gICAgW0sgaW4gTWF0ZXJpYWxdPzogbnVtYmVyO1xuICB9O1xufVxuXG5jb25zdCByZWNpcGVzOiBSZWNpcGVbXSA9IFtcbiAge1xuICAgIG5hbWU6ICfjg5Pjg6rjg6Tjg4snLFxuICAgIGluZ3JlZGllbnRzOiB7XG4gICAgICBzcGljeVBvd2RlcjogMSxcbiAgICAgIHJpY2U6IDEsXG4gICAgICBvbmlvbjogMSxcbiAgICAgIG1lYXQ6IDEsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfjg4/jg6njg5rjg7zjg4vjg6fjgajpt7njga7niKrjg5TjgrYnLFxuICAgIGluZ3JlZGllbnRzOiB7XG4gICAgICBzcGljeVBvd2RlcjogMSxcbiAgICAgIGZsb3VyOiAxLFxuICAgICAgY2hlZXNlOiAxLFxuICAgICAgcGl6emFTYXVjZTogMSxcbiAgICB9LFxuICB9LFxuXTtcblxuY29uc3QgcXVhbGl0eVBvaW50czogeyBbSyBpbiBRdWFsaXR5XTogbnVtYmVyIH0gPSB7XG4gIGhpZ2g6IDMwLFxuICBtZWRpdW06IDIwLFxuICBsb3c6IDEwLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgY29uc3Qgc3RvY2sgPSByZXEuYm9keSBhcyBTdG9jaztcbiAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVPcHRpbWFsUmVjaXBlcyhzdG9jayk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlT3B0aW1hbFJlY2lwZXMoc3RvY2s6IFN0b2NrKTogeyByZWNpcGVzOiB7IFtuYW1lOiBzdHJpbmddOiBudW1iZXIgfSwgbWVkYWxzOiBudW1iZXIgfSB7XG4gIGxldCBvcHRpbWFsUmVjaXBlczogeyBbbmFtZTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgbGV0IG1heE1lZGFscyA9IDA7XG4gIGxldCBjdXJyZW50U3RvY2sgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0b2NrKSkgYXMgU3RvY2s7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBsZXQgYmVzdFJlY2lwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGJlc3RNZWRhbHMgPSAwO1xuXG4gICAgZm9yIChjb25zdCByZWNpcGUgb2YgcmVjaXBlcykge1xuICAgICAgaWYgKGNhbk1ha2UoY3VycmVudFN0b2NrLCByZWNpcGUuaW5ncmVkaWVudHMpKSB7XG4gICAgICAgIGNvbnN0IG1lZGFscyA9IGNhbGN1bGF0ZU1lZGFsc0ZvclJlY2lwZShjdXJyZW50U3RvY2ssIHJlY2lwZS5pbmdyZWRpZW50cyk7XG4gICAgICAgIGlmIChtZWRhbHMgPiBiZXN0TWVkYWxzKSB7XG4gICAgICAgICAgYmVzdE1lZGFscyA9IG1lZGFscztcbiAgICAgICAgICBiZXN0UmVjaXBlID0gcmVjaXBlLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmVzdFJlY2lwZSA9PT0gbnVsbCkgYnJlYWs7XG5cbiAgICBvcHRpbWFsUmVjaXBlc1tiZXN0UmVjaXBlXSA9IChvcHRpbWFsUmVjaXBlc1tiZXN0UmVjaXBlXSB8fCAwKSArIDE7XG4gICAgbWF4TWVkYWxzICs9IGJlc3RNZWRhbHM7XG4gICAgdXNlSW5ncmVkaWVudHMoY3VycmVudFN0b2NrLCByZWNpcGVzLmZpbmQociA9PiByLm5hbWUgPT09IGJlc3RSZWNpcGUpIS5pbmdyZWRpZW50cyk7XG4gIH1cblxuICAvLyDkvZzmiJDlm57mlbDjgYww44Gu44Os44K344OU44KS6Zmk5aSWXG4gIE9iamVjdC5rZXlzKG9wdGltYWxSZWNpcGVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKG9wdGltYWxSZWNpcGVzW2tleV0gPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvcHRpbWFsUmVjaXBlc1trZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHsgcmVjaXBlczogb3B0aW1hbFJlY2lwZXMsIG1lZGFsczogbWF4TWVkYWxzIH07XG59XG5cbmZ1bmN0aW9uIGNhbk1ha2Uoc3RvY2s6IFN0b2NrLCBpbmdyZWRpZW50czogUmVjaXBlWydpbmdyZWRpZW50cyddKTogYm9vbGVhbiB7XG4gIGZvciAoY29uc3QgbWF0ZXJpYWwgaW4gaW5ncmVkaWVudHMpIHtcbiAgICBjb25zdCBtYXRlcmlhbEtleSA9IG1hdGVyaWFsIGFzIE1hdGVyaWFsO1xuICAgIGNvbnN0IHJlcXVpcmVkQW1vdW50ID0gaW5ncmVkaWVudHNbbWF0ZXJpYWxLZXldIHx8IDA7XG4gICAgaWYgKHJlcXVpcmVkQW1vdW50ID4gMCkge1xuICAgICAgY29uc3QgYXZhaWxhYmxlUXVhbnRpdHkgPSBPYmplY3QudmFsdWVzKHN0b2NrW21hdGVyaWFsS2V5XSkucmVkdWNlKChzdW0sIHF0eSkgPT4gc3VtICsgcXR5LCAwKTtcbiAgICAgIGlmIChhdmFpbGFibGVRdWFudGl0eSA8IHJlcXVpcmVkQW1vdW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU1lZGFsc0ZvclJlY2lwZShcbiAgc3RvY2s6IFN0b2NrLFxuICBpbmdyZWRpZW50czogUmVjaXBlWydpbmdyZWRpZW50cyddXG4pOiBudW1iZXIge1xuICBsZXQgdG90YWxNZWRhbHMgPSAwO1xuICBmb3IgKGNvbnN0IG1hdGVyaWFsIGluIGluZ3JlZGllbnRzKSB7XG4gICAgY29uc3QgbWF0ZXJpYWxLZXkgPSBtYXRlcmlhbCBhcyBNYXRlcmlhbDtcbiAgICBjb25zdCByZXF1aXJlZEFtb3VudCA9IGluZ3JlZGllbnRzW21hdGVyaWFsS2V5XSB8fCAwO1xuICAgIGlmIChyZXF1aXJlZEFtb3VudCA+IDApIHtcbiAgICAgIGxldCByZW1haW5pbmdBbW91bnQgPSByZXF1aXJlZEFtb3VudDtcbiAgICAgIGZvciAoY29uc3QgcXVhbGl0eSBpbiBxdWFsaXR5UG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IHF1YWxpdHlLZXkgPSBxdWFsaXR5IGFzIFF1YWxpdHk7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVF1YW50aXR5ID0gc3RvY2tbbWF0ZXJpYWxLZXldW3F1YWxpdHlLZXldO1xuICAgICAgICBjb25zdCB1c2VkUXVhbnRpdHkgPSBNYXRoLm1pbihhdmFpbGFibGVRdWFudGl0eSwgcmVtYWluaW5nQW1vdW50KTtcbiAgICAgICAgdG90YWxNZWRhbHMgKz0gcXVhbGl0eVBvaW50c1txdWFsaXR5S2V5XSAqIHVzZWRRdWFudGl0eTtcbiAgICAgICAgcmVtYWluaW5nQW1vdW50IC09IHVzZWRRdWFudGl0eTtcbiAgICAgICAgaWYgKHJlbWFpbmluZ0Ftb3VudCA8PSAwKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvdGFsTWVkYWxzO1xufVxuXG5mdW5jdGlvbiB1c2VJbmdyZWRpZW50cyhzdG9jazogU3RvY2ssIGluZ3JlZGllbnRzOiBSZWNpcGVbJ2luZ3JlZGllbnRzJ10pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBtYXRlcmlhbCBpbiBpbmdyZWRpZW50cykge1xuICAgIGNvbnN0IG1hdGVyaWFsS2V5ID0gbWF0ZXJpYWwgYXMgTWF0ZXJpYWw7XG4gICAgY29uc3QgcmVxdWlyZWRBbW91bnQgPSBpbmdyZWRpZW50c1ttYXRlcmlhbEtleV0gfHwgMDtcbiAgICBpZiAocmVxdWlyZWRBbW91bnQgPiAwKSB7XG4gICAgICBsZXQgcmVtYWluaW5nQW1vdW50ID0gcmVxdWlyZWRBbW91bnQ7XG4gICAgICBmb3IgKGNvbnN0IHF1YWxpdHkgaW4gcXVhbGl0eVBvaW50cykge1xuICAgICAgICBjb25zdCBxdWFsaXR5S2V5ID0gcXVhbGl0eSBhcyBRdWFsaXR5O1xuICAgICAgICBjb25zdCBhdmFpbGFibGVRdWFudGl0eSA9IHN0b2NrW21hdGVyaWFsS2V5XVtxdWFsaXR5S2V5XTtcbiAgICAgICAgY29uc3QgdXNlZFF1YW50aXR5ID0gTWF0aC5taW4oYXZhaWxhYmxlUXVhbnRpdHksIHJlbWFpbmluZ0Ftb3VudCk7XG4gICAgICAgIHN0b2NrW21hdGVyaWFsS2V5XVtxdWFsaXR5S2V5XSAtPSB1c2VkUXVhbnRpdHk7XG4gICAgICAgIHJlbWFpbmluZ0Ftb3VudCAtPSB1c2VkUXVhbnRpdHk7XG4gICAgICAgIGlmIChyZW1haW5pbmdBbW91bnQgPD0gMCkgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsicmVjaXBlcyIsIm5hbWUiLCJpbmdyZWRpZW50cyIsInNwaWN5UG93ZGVyIiwicmljZSIsIm9uaW9uIiwibWVhdCIsImZsb3VyIiwiY2hlZXNlIiwicGl6emFTYXVjZSIsInF1YWxpdHlQb2ludHMiLCJoaWdoIiwibWVkaXVtIiwibG93IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0b2NrIiwiYm9keSIsInJlc3VsdCIsImNhbGN1bGF0ZU9wdGltYWxSZWNpcGVzIiwic3RhdHVzIiwianNvbiIsImVuZCIsIm9wdGltYWxSZWNpcGVzIiwibWF4TWVkYWxzIiwiY3VycmVudFN0b2NrIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiYmVzdFJlY2lwZSIsImJlc3RNZWRhbHMiLCJyZWNpcGUiLCJjYW5NYWtlIiwibWVkYWxzIiwiY2FsY3VsYXRlTWVkYWxzRm9yUmVjaXBlIiwidXNlSW5ncmVkaWVudHMiLCJmaW5kIiwiciIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwibWF0ZXJpYWwiLCJtYXRlcmlhbEtleSIsInJlcXVpcmVkQW1vdW50IiwiYXZhaWxhYmxlUXVhbnRpdHkiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJzdW0iLCJxdHkiLCJ0b3RhbE1lZGFscyIsInJlbWFpbmluZ0Ftb3VudCIsInF1YWxpdHkiLCJxdWFsaXR5S2V5IiwidXNlZFF1YW50aXR5IiwiTWF0aCIsIm1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/calculate-medals.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcalculate-medals&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcalculate-medals.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();